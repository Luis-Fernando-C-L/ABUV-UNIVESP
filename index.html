<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ABUV - Associação de Bairros Unidos Venceremos.</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
<style>
:root { --cor-primaria: #1b2845; --cor-secundaria: #00b351; }
body { margin: 0; font-family: "Segoe UI", Arial, sans-serif; scroll-behavior: smooth; color: #333; background:#fff; }

/* topo */
nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: transparent;
  padding: 15px 25px;
  z-index: 1000;
  display: flex;
  gap: 22px;
  white-space: nowrap;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  align-items: center;
  justify-content: flex-start;
}
nav a {
  text-decoration: none;
  color: #333;
  font-weight: bold;
  font-size: 16.5px;
  transition: color 0.3s, transform 0.3s;
}
nav a:hover { color: var(--cor-secundaria); transform: scale(1.05); }

@media (max-width: 480px) {
  nav { padding: 9.5px 13.5px; gap: 13.5px; }
  nav a { font-size: 14.5px; }
}

header { height: 100vh; display: flex; justify-content: center; align-items: center; background-color: #fff; }
header img.logo { width: 320px; max-width: 80%; }

/* seções */
section { padding: 80px 20px; font-size: 20px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; min-height: 100vh; }
#quem-somos { background-color: #e0f7fa; }
#atividades { background: linear-gradient(135deg, #fff3e0, #ffe0b2); }
#banco-dados { background: linear-gradient(135deg, #e3f2fd, #bbdefb); }
#contato { background: linear-gradient(135deg, #fce4ec, #f8bbd0); scroll-margin-top: 80px; }

/* botões */
.botao-formulario { display: inline-block; padding: 12px 24px; background-color: var(--cor-primaria); color: white; text-decoration: none; border-radius: 8px; font-weight: bold; transition: background-color 0.3s, transform 0.2s; border:none; cursor:pointer; }
.botao-formulario:hover { background-color: var(--cor-secundaria); transform: scale(1.05); }

/* galeria */
.galeria { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 30px; }
.galeria-img { width: 220px; height: 160px; object-fit: cover; border-radius: 10px; box-shadow: 0 3px 6px rgba(0,0,0,0.2); cursor: pointer; transition: transform 0.3s, opacity 0.3s; }
.galeria-img:hover { transform: scale(1.05); opacity: 0.9; }

/* modal */
.modal { position: fixed; top:0; left:0; right:0; bottom:0; background: rgba(0,0,0,0.85); display:flex; justify-content:center; align-items:center; z-index:2000; opacity: 0; animation: fadeIn 0.25s forwards; flex-direction: column; padding: 12px; }
.modal-card { background:#fff; padding:24px; border-radius:12px; max-width:1000px; width:95%; text-align:left; }
.modal-img { max-width:90%; max-height:80%; border-radius:12px; }
.modal-controls { margin-top: 20px; }
.modal-controls button { padding: 12px 20px; margin: 0 10px; font-size: 16px; border: none; border-radius: 8px; cursor: pointer; background-color: var(--cor-primaria); color: #fff; transition: background-color 0.3s; }
.modal-controls button:hover { background-color: var(--cor-secundaria); }

/* atividades */
.atividade { background: #fff; padding: 25px 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.15); min-width: 250px; max-width: 280px; display: flex; flex-direction: column; align-items: center; transition: transform 0.3s, opacity 0.4s; cursor: pointer; opacity: 0; animation: slideUp 0.5s forwards; text-align: center; }
.atividade h3 { color: var(--cor-secundaria); margin-bottom: 12px; }

@keyframes fadeIn { to { opacity:1; } }
@keyframes slideUp { from { transform: translateY(20px); opacity:0; } to { transform: translateY(0); opacity:1; } }

/* formulário */
.form-db { display: grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); gap: 15px; width: 100%; max-width: 1100px; margin-top: 20px; }
.form-db input,.form-db select,.form-db textarea { padding: 10px; border-radius: 8px; border: 1px solid #ccc; width: 100%; font-size: 16px; box-sizing: border-box; }
.form-db textarea { grid-column: 1 / -1; resize: none; height: 90px; }

/* tabela + paginação */
.table-wrap { width:100%; overflow-x:auto; margin-top: 30px; }
.table-db { width:100%; border-collapse: collapse; background: #fff; border-radius: 12px; overflow: hidden; }
.table-db th, .table-db td { padding: 10px; border-bottom: 1px solid rgba(0,0,0,0.08); text-align: left; font-size: 15px; }
.table-db th { background: var(--cor-primaria); color: #fff; }
.table-db tr:hover td { background: rgba(0,0,0,0.05); }
.table-actions button { margin-right:8px; }
.pagination { margin-top: 15px; display: flex; justify-content: center; gap: 15px; align-items:center; }
.pagination button { background: var(--cor-primaria); color: #fff; border: none; border-radius: 6px; padding: 8px 14px; cursor: pointer; transition: background 0.3s; }
.pagination button:disabled { opacity: .5; cursor: default; }
.pagination button:hover:not(:disabled) { background: var(--cor-secundaria); }

/* footer */
footer { text-align: center; padding: 50px 20px; color: #333; border-top: 3px solid var(--cor-secundaria); min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; }
footer h2 { color: var(--cor-secundaria); font-size: 42px; margin-bottom: 25px; }
footer p { margin: 12px 0; font-size: 22px; }
footer .social a { color: #E4405F; font-size: 60px; margin: 0 15px; transition: transform 0.3s ease, opacity 0.3s ease; }
footer .social a:hover { transform: scale(1.2); opacity: 0.8; }
.badge { margin-top:10px; font-size:14px; color:#555; }

.contact-link { color: inherit; text-decoration: none; }
.contact-link:hover { text-decoration: underline; }
</style>
</head>
<body>
<nav>
  <a href="#topo">ABUV</a>
  <a href="#quem-somos">Quem Somos</a>
  <a href="#atividades">Atividades</a>
  <a href="#banco-dados">Cadastro</a>
  <a href="#contato">Contato</a>
</nav>

<div id="app">
  <header id="topo">
    <img alt="Logo ABUV" class="logo" src="logo.png"/>
  </header>

  <!-- QUEM SOMOS -->
  <section id="quem-somos">
    <h2>Quem Somos</h2>
    <p v-for="p in textoQuemSomos">{{ p }}</p>
    <div class="galeria">
      <img v-for="(img,i) in imagens" :key="img" :src="img" class="galeria-img" @click="openModal(i)"/>
    </div>
  </section>

  <!-- ATIVIDADES -->
  <section id="atividades">
    <h2>Atividades</h2>
    <div class="atividades-carousel" style="display:flex; gap:20px; justify-content:center; flex-wrap:wrap;">
      <div class="atividade" v-for="(item, nome) in atividades" :key="nome" @click="toggle(nome)">
        <h3 style="margin-bottom:6px">{{ nome }}</h3>
        <p style="margin:0 0 8px">{{ item.resumo }}</p>

        <div v-if="active===nome" style="margin-top:10px; text-align:left; width:100%;">
          <ul style="padding-left:18px; margin:0 0 8px;">
            <li v-for="(linha, i) in item.agenda" :key="i">
              <strong>{{ linha.dia }}:</strong>
              <span>{{ linha.horas.join(', ') }}</span>
              <span v-if="linha.local"> • {{ linha.local }}</span>
            </li>
          </ul>
          <p v-if="item.extra" style="margin:8px 0 0; font-size:14px; opacity:.9;">{{ item.extra }}</p>
          <p style="margin:10px 0 0;">
            <a :href="'https://www.google.com/search?q='+encodeURIComponent(nome+' '+(item.localPadrao||''))"
              target="_blank" style="color:#007bff; text-decoration: underline;" @click.stop>Mais informações</a>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- BANCO DE DADOS (sem alterações) -->
  <!-- ... resto igual ao seu original ... -->
</div>

<script>
const API = 'https://script.google.com/macros/s/AKfycbyQMKKSEzg1DmceApbitOu3CkDIOBwUfwE42lMDEmHUD3myu-xfi6nIu_MR2cUjN8sQWQ/exec';

new Vue({
  el: '#app',
  data: {
    textoQuemSomos: [
      'A ABUV (Associação de bairro unidos venceremos) é uma organização comunitária na cidade de Tupã comprometida em melhorar a qualidade de vida e promover o bem-estar dos moradores de diversos bairros...',
    ],
    atividades: {
      'Ginástica': {
        resumo: 'Atividade física para saúde e disposição.',
        localPadrao: 'Quadra coberta',
        extra: 'Traga garrafinha de água e tapete se tiver.',
        agenda: [
          { dia: 'Terça',  horas: ['09:00','15:00','19:00'], local: 'Quadra coberta' },
          { dia: 'Quinta', horas: ['09:00','15:00','19:00'], local: 'Quadra coberta' },
          { dia: 'Sábado', horas: ['09:00','15:00','19:00'], local: 'Quadra coberta' },
        ],
      },
      'Jiu Jitsu': {
        resumo: 'Técnica, disciplina e respeito.',
        localPadrao: 'Sala de esportes 1',
        extra: 'Kimono obrigatório após a 1ª semana experimental.',
        agenda: [
          { dia: 'Segunda', horas: ['19:00–20:30'], local: 'Sala de esportes 1' },
          { dia: 'Quarta',  horas: ['19:00–20:30'], local: 'Sala de esportes 1' },
          { dia: 'Sexta',   horas: ['19:00–20:30'], local: 'Sala de esportes 1' },
        ],
      },
      'Krav Magá': {
        resumo: 'Defesa pessoal prática e objetiva.',
        localPadrao: 'Sala de esportes 2',
        extra: 'Recomenda-se protetor bucal.',
        agenda: [
          { dia: 'Segunda', horas: ['20:30–22:00'], local: 'Sala de esportes 2' },
          { dia: 'Quarta',  horas: ['20:30–22:00'], local: 'Sala de esportes 2' },
          { dia: 'Sexta',   horas: ['20:30–22:00'], local: 'Sala de esportes 2' },
        ],
      },
      'Muay Thai': {
        resumo: 'Resistência, coordenação e agilidade.',
        localPadrao: 'Sala de esportes 2',
        extra: 'Use bandagens e luvas; temos pares para aula experimental.',
        agenda: [
          { dia: 'Terça',  horas: ['18:30–20:00'], local: 'Sala de esportes 2' },
          { dia: 'Quinta', horas: ['18:30–20:00'], local: 'Sala de esportes 2' },
        ],
      },
    },
    imagens: ['1.jfif','2.jfif','3.jfif','4.jfif','5.jfif','6.jfif'],
    active: null,
    banco: [],
    novo: { nomeResponsavel:'', email:'', celular:'', logradouro:'', numero:'', bairro:'', complemento:'', cidade:'', nomeAluno:'', idade:'', modalidade:'', observacoes:'' },
    filtro: '',
    page: 1,
    perPage: 10,
    loading: false,
    apiStatus: 'desconectado',
    modalOpen: false,
    modalIndex: 0,
    modalImage: '',
    detalhes: null,
    editModal: false,
    editBuffer: null
  },
  computed: {
    registrosFiltrados() {
      if (!this.filtro) return this.banco;
      const f = this.filtro.toLowerCase();
      return this.banco.filter(r =>
        (r.nomeAluno || '').toLowerCase().includes(f) ||
        (r.nomeResponsavel || '').toLowerCase().includes(f)
      );
    },
    totalPages() { return Math.ceil(this.registrosFiltrados.length / this.perPage) || 1; },
    paginated() {
      const start = (this.page - 1) * this.perPage;
      return this.registrosFiltrados.slice(start, start + this.perPage);
    }
  },
  watch: { filtro() { this.page = 1; } },
  methods: {
    async apiGetList() {
      const url = API + '?action=list';
      const r = await fetch(url);
      if (!r.ok) throw new Error('Falha ao listar');
      const data = await r.json();
      this.banco = Array.isArray(data) ? data : (data.data || []);
    },
    async apiPost(action, payload) {
      const r = await fetch(API + '?action=' + action, {
        method: 'POST',
        body: JSON.stringify(payload || {})
      });
      const json = await r.json();
      if (!r.ok || json.ok === false) throw new Error(json.error || 'Erro');
      return json.data;
    },
    setStatus(ok) { this.apiStatus = ok ? 'conectado' : 'desconectado'; },
    openModal(i) { this.modalIndex = i; this.modalImage = this.imagens[i]; this.modalOpen = true; },
    prevImage() { this.modalIndex = (this.modalIndex - 1 + this.imagens.length) % this.imagens.length; this.modalImage = this.imagens[this.modalIndex]; },
    nextImage() { this.modalIndex = (this.modalIndex + 1) % this.imagens.length; this.modalImage = this.imagens[this.modalIndex]; },
    toggle(nome) { this.active = this.active===nome?null:nome; },
    async load() {
      this.loading = true;
      try { await this.apiGetList(); this.setStatus(true); }
      catch(e){ console.error(e); this.setStatus(false); alert('Não consegui conectar à API.'); }
      finally{ this.loading = false; }
    },
    // ... resto igual ao seu (CRUD, paginação etc.)
  },
  mounted() { this.load(); }
});
</script>
</body>
</html>
